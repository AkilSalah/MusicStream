<main class=" bg-gradient-to-t min-h-[89.2vh] from-purple-400 to-purple-900 relative py-15">
    <div class="absolute inset-0">
        <img src="../../../assets/img/bg-2.jpg" alt="Background Image" class="w-full h-full object-cover opacity-50" />
      </div>
      <div class="relative" >
        <div class="flex flex-wrap items-center justify-between p-5 gap-4">
          <!-- Title on the left -->
          <div class="flex-1 text-left">
            <h2 class="text-4xl md:text-5xl font-bold text-white leading-tight">
              Latest Songs
            </h2>
          </div>
        
          <!-- Filter buttons in the center -->
          <div class="flex flex-1 justify-center flex-wrap gap-2">
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'ALL'"
              [class.text-white]="selectedCategory === 'ALL'"
              (click)="filterByCategory('ALL')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              ALL
            </button>
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'rai'"
              [class.text-white]="selectedCategory === 'rai'"
              (click)="filterByCategory('rai')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              RAI
            </button>
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'cha3bi'"
              [class.text-white]="selectedCategory === 'cha3bi'"
              (click)="filterByCategory('cha3bi')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              CHA3BI
            </button>
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'pop'"
              [class.text-white]="selectedCategory === 'pop'"
              (click)="filterByCategory('pop')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              POP
            </button>
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'rap'"
              [class.text-white]="selectedCategory === 'rap'"
              (click)="filterByCategory('rap')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              RAP
            </button>
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'rock'"
              [class.text-white]="selectedCategory === 'rock'"
              (click)="filterByCategory('rock')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              ROCK
            </button>
            <button
              type="button"
              [class.bg-purple-900]="selectedCategory === 'other'"
              [class.text-white]="selectedCategory === 'other'"
              (click)="filterByCategory('other')"
              class="px-5 py-2 rounded-lg text-sm tracking-wider border-2 border-purple-950 outline-none bg-transparent hover:bg-purple-900 text-gray-950 font-extrabold hover:text-white transition-all duration-300"
            >
              OTHER
            </button>
          </div>
        
          <!-- Add Track button on the right -->
          <div class="flex-1 text-right">
            <button
              (click)="showAddModal()"
              class="text-white bg-purple-950 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            >
              Add Track
            </button>
          </div>
        </div>
        
            <div class="flex flex-wrap gap-4 p-4">
              <div *ngFor="let track of (tracks$ | async)" class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6">
                <div class="relative overflow-hidden rounded-lg shadow-lg transition-transform duration-300 ease-in-out transform hover:scale-105">
                  <div class="relative">
                    <img [src]="trackImages.get(track.id) || '../../../assets/img/a1.jpg'" 
                    [alt]="track.title" 
                    class="w-full h-auto">
                   <div class="absolute top-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded">
                      <p class="text-sm font-bold">{{track.duration}}</p>
                    </div>
                    <div class="absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300">
                      <a [routerLink]="['/track', track.id]" class="text-white hover:text-gray-200 transition-colors duration-300">                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                      </a>
                    </div>
                  </div>
                  <div class="p-4 bg-white">
                    <a href="#" class="block mb-1">
                      <h5 class="text-lg font-semibold text-gray-900 hover:text-gray-700 transition-colors duration-300">{{track.title}}</h5>
                    </a>
                    <p class="text-sm text-gray-600">{{track.artist}}</p>
                    <button 
                    (click)="showUpdateModal(track)" 
                    class="text-blue-600 hover:text-blue-800 transition-colors duration-300"
                  >
                    Update
                  </button>
                  <button 
                    (click)="deleteTrack(track.id)" 
                    class="text-red-600 ml-3 hover:text-red-800 transition-colors duration-300"
                  >
                    Delete
                  </button>
                  </div>
                </div>
              </div>
            </div>         
    </div>
        <div class="relative z-50">
          <app-song-modal 
              [isVisible]="isModalVisible"
              [track]="selectedTrack"
              [mode]="modalMode"
              (modalClose)="closeModal()"
              (submit)="onSongSubmit($event)">
          </app-song-modal>
        </div>
  </main>

  